<html>
  <head>
    <title>main site</title>
  </head>
  <body>
    <h1>open your DevTools (main page)</h1>
    <button onclick="openWindow()">Click here to open new window</button>
    <script>
      function openWindow () {
        const childUrl = 'https://lightouchd.droppages.com/popup-issue.html'
        const childWindow = window.open(childUrl)
        console.log(childUrl, childWindow)
        setTimeout(() =>
          childWindow.postMessage('[Page -> Child Window] Hello from main page.', childUrl),
          500
        )
      }
      addEventListener('message', event => console.log({
        data: event.data,
        origin: event.origin
      }))
      </script>
    </body>
</html>